package leet_862

import (
	"testing"

	"github.com/stretchr/testify/require"
)

func TestShortestSubarray(t *testing.T) {
	var testCase = []struct {
		nums   []int
		k      int
		expect int
	}{
		{
			nums:   []int{2, -1, 2},
			k:      3,
			expect: 3,
		},
		{
			nums:   []int{84, -37, 32, 40, 95},
			k:      167,
			expect: 3,
		},
		{
			nums:   []int{58701, 23101, 6562, 60667, 20458, -14545, 74421, 54590, 84780, 63295, 33238, -10143, -35830, -9881, 67268, 90746, 9220, -15611, 23957, 29506, -33103, -14322, 19079, -34950, -38551, 51786, -48668, -17133, 5163, 15122, 5463, 74527, 41111, -3281, 73035, -28736, 32910, 17414, 4080, -42435, 66106, 48271, 69638, 14500, 37084, -9978, 85748, -43017, 75337, -27963, -34333, -25360, 82454, 87290, 87019, 84272, 17540, 60178, 51154, 19646, 54249, -3863, 38665, 13101, 59494, 37172, -16950, -30560, -11334, 27620, 73388, 34019, -35695, 98999, 79086, -28003, 87339, 2448, 66248, 81817, 73620, 28714, -46807, 51901, -23618, -29498, 35427, 11159, 59803, 95266, 20307, -3756, 67993, -31414, 11468, -28307, 45126, 77892, 77226, 79433},
			k:      1677903,
			expect: 48,
		},

		{
			nums:   []int{2, -1, 2, 3},
			k:      3,
			expect: 1,
		},
		{
			nums:   []int{17, 85, 93, -45, -21},
			k:      150,
			expect: 2,
		},
		{
			nums:   []int{2, -1, 2, 3, 3},
			k:      6,
			expect: 2,
		},
		{
			nums:   []int{2, -1, 2, 3, 1},
			k:      6,
			expect: 3,
		},

		{
			nums:   []int{1},
			k:      2,
			expect: -1,
		},
		{
			nums:   []int{1},
			k:      1,
			expect: 1,
		},
		{
			nums:   []int{1, 2},
			k:      4,
			expect: -1,
		},
	}
	should := require.New(t)
	for idx, tc := range testCase {
		actual := shortestSubarray(tc.nums, tc.k)
		should.Equal(tc.expect, actual, "case#%d failed", idx)
	}
}
